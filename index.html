<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Studio Panzerotti FC</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: black; color: white; overflow-x: hidden; }
    header { position: relative; text-align: center; }
    header img { width: 100%; height: 200px; object-fit: cover; }
    .logo { position: absolute; bottom: 10px; right: 10px; font-size: 14px; background: rgba(0,0,0,0.6); padding: 5px 10px; border-radius: 8px; }
    nav { position: fixed; top: 10px; left: 10px; background: rgba(0,0,0,0.8); padding: 10px; border-radius: 8px; z-index: 1000; }
    nav ul { list-style: none; margin: 0; padding: 0; }
    nav ul li { margin: 5px 0; cursor: pointer; }
    nav ul li ul { display: none; margin-left: 15px; }
    nav ul li:hover ul { display: block; }
    .news-section { padding: 20px; overflow-x: auto; white-space: nowrap; }
    .news { display: inline-block; background: #222; margin: 5px; padding: 20px; border-radius: 10px; min-width: 200px; }
    canvas { background: black; display: block; margin: auto; }
    .game-container { display: none; text-align: center; padding: 20px; }
    .controls { margin-top: 10px; }
    .controls button { margin: 5px; padding: 10px 20px; font-size: 16px; }
    .rules { background: rgba(0,0,0,0.8); padding: 20px; border-radius: 10px; margin-bottom: 10px; }
    .scoreboard { margin-top: 15px; background: #111; padding: 10px; border-radius: 8px; }
  </style>
</head>
<body>

<header>
  <img src="https://via.placeholder.com/1200x200?text=Team+Galaxy" alt="Banner">
  <div class="logo">Studio Panzerotti FC</div>
</header>

<nav>
  <ul>
    <li>Home</li>
    <li>Rooster</li>
    <li>La nostra storia</li>
    <li>Merchandising</li>
    <li>Giochi
      <ul>
        <li onclick="openGame('navicella')">Gioco della Navicella</li>
        <li onclick="openGame('stellina')">Gioco della Stellina</li>
      </ul>
    </li>
    <li>Contattaci</li>
  </ul>
</nav>

<section id="home" class="news-section">
  <h2>News</h2>
  <div class="news">üåå News 1 - Lancio del sito!</div>
  <div class="news">üöÄ News 2 - Nuovi giochi disponibili!</div>
  <div class="news">ü™ê News 3 - Merch in arrivo!</div>
</section>

<!-- Gioco Navicella -->
<section id="game-navicella" class="game-container">
  <div class="rules">üöÄ Schiva i meteoriti (1 punto) e distruggi le navicelle aliene (2 punti)!  
  Muovi con le frecce / pulsanti touch, spara con SPACE / Fuoco.  
  Se vieni colpito ‚ûù Game Over.</div>
  <canvas id="navicella" width="400" height="500"></canvas>
  <div class="controls">
    <button onclick="moveShip(-1)">‚¨ÖÔ∏è</button>
    <button onclick="fire()">üî•</button>
    <button onclick="moveShip(1)">‚û°Ô∏è</button>
  </div>
  <div class="scoreboard">
    <h3>Punteggi Navicella</h3>
    <ul id="score-navicella"></ul>
  </div>
</section>

<!-- Gioco Stellina -->
<section id="game-stellina" class="game-container">
  <div class="rules">‚≠ê Tocca la stellina pi√π volte possibile entro 15 secondi!  
  Ogni click ‚ûù 1 punto. Vince chi totalizza di pi√π.</div>
  <canvas id="stellina" width="300" height="300"></canvas>
  <div class="controls">
    <button onclick="startStellina()">Inizia</button>
  </div>
  <div class="scoreboard">
    <h3>Punteggi Stellina</h3>
    <ul id="score-stellina"></ul>
  </div>
</section>

<script>
  // Gestione pagine
  function openGame(game) {
    document.getElementById('home').style.display = "none";
    document.querySelectorAll('.game-container').forEach(el => el.style.display = "none");
    document.getElementById("game-" + game).style.display = "block";
    if (game === "navicella") startNavicella();
  }

  // Gioco NAVICELLA
  let shipX, bullets, enemies, meteors, score, ctxNav, navInterval;
  function startNavicella() {
    ctxNav = document.getElementById("navicella").getContext("2d");
    shipX = 180; bullets = []; enemies = []; meteors = []; score = 0;
    clearInterval(navInterval);
    navInterval = setInterval(updateNavicella, 50);
  }
  function moveShip(dir) { shipX += dir * 20; if (shipX < 0) shipX = 0; if (shipX > 360) shipX = 360; }
  function fire() { bullets.push({x: shipX+20, y: 450}); }
  document.addEventListener("keydown", e => { if(e.key==="ArrowLeft") moveShip(-1); if(e.key==="ArrowRight") moveShip(1); if(e.key===" ") fire(); });
  function updateNavicella() {
    ctxNav.clearRect(0,0,400,500);
    ctxNav.fillStyle="cyan"; ctxNav.fillRect(shipX,460,40,30);
    // bullets
    ctxNav.fillStyle="yellow";
    bullets.forEach((b,i)=>{ b.y-=10; ctxNav.fillRect(b.x,b.y,5,10); if(b.y<0) bullets.splice(i,1); });
    // meteors
    if(Math.random()<0.05) meteors.push({x:Math.random()*380,y:0});
    ctxNav.fillStyle="gray";
    meteors.forEach((m,i)=>{ m.y+=4; ctxNav.beginPath(); ctxNav.arc(m.x,m.y,15,0,2*Math.PI); ctxNav.fill();
      if(m.y>500) meteors.splice(i,1);
      if(m.y>460 && m.x>shipX && m.x<shipX+40){ gameOver("navicella"); }
    });
    // enemies
    if(Math.random()<0.02) enemies.push({x:Math.random()*360,y:0});
    ctxNav.fillStyle="red";
    enemies.forEach((en,i)=>{ en.y+=3; ctxNav.fillRect(en.x,en.y,40,20); if(en.y>500) enemies.splice(i,1);
      if(en.y>460 && en.x<shipX+40 && en.x+40>shipX){ gameOver("navicella"); }
    });
    // collisioni
    bullets.forEach((b,bi)=>{ meteors.forEach((m,mi)=>{ if(Math.abs(b.x-m.x)<15 && Math.abs(b.y-m.y)<15){ score+=1; meteors.splice(mi,1); bullets.splice(bi,1); }}); 
      enemies.forEach((en,ei)=>{ if(b.x>en.x && b.x<en.x+40 && b.y>en.y && b.y<en.y+20){ score+=2; enemies.splice(ei,1); bullets.splice(bi,1); }}); });
    ctxNav.fillStyle="white"; ctxNav.fillText("Score: "+score,10,20);
  }

  // GameOver + punteggi
  function gameOver(game) {
    clearInterval(navInterval);
    let name = prompt("Game Over! Inserisci il tuo nome:");
    if(!name) return;
    let scores = JSON.parse(localStorage.getItem("scores-"+game) || "[]");
    scores.push({name,score});
    localStorage.setItem("scores-"+game, JSON.stringify(scores));
    showScores(game);
  }
  function showScores(game){
    let scores = JSON.parse(localStorage.getItem("scores-"+game) || "[]");
    let list = document.getElementById("score-"+game);
    list.innerHTML="";
    scores.sort((a,b)=>b.score-a.score).slice(0,5).forEach(s=>{ 
      let li=document.createElement("li"); li.textContent=s.name+": "+s.score; list.appendChild(li); 
    });
  }

  // Gioco STELLINA
  let stellinaCtx, stellinaScore, stellinaTime;
  stellinaCtx = document.getElementById("stellina").getContext("2d");
  function startStellina(){
    stellinaScore=0; stellinaTime=15;
    drawStellina();
    document.getElementById("stellina").onclick=()=>{ stellinaScore++; };
    let interval=setInterval(()=>{ stellinaTime--; if(stellinaTime<=0){ clearInterval(interval); endStellina(); } },1000);
  }
  function drawStellina(){
    stellinaCtx.clearRect(0,0,300,300);
    stellinaCtx.fillStyle="yellow";
    stellinaCtx.beginPath();
    stellinaCtx.arc(150,150,50,0,2*Math.PI);
    stellinaCtx.fill();
  }
  function endStellina(){
    let name=prompt("Tempo finito! Inserisci il tuo nome:");
    if(!name) return;
    let scores=JSON.parse(localStorage.getItem("scores-stellina") || "[]");
    scores.push({name,score:stellinaScore});
    localStorage.setItem("scores-stellina",JSON.stringify(scores));
    showScores("stellina");
  }
</script>

</body>
</html>